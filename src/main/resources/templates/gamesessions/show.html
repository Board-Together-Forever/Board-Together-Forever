<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:replace="partials :: head">
	<meta charset="UTF-8">
	<title>Show</title>
</head>
<body>
<nav th:replace="partials :: navbar"></nav>

<h1>Game: <span th:text="${gameSessions.gameSessionName}"></span>
	<input id="upc" th:value="*{gameSessions.getUPC()}" type="hidden">
	<div id="gameImage"></div>
	<br>
	<span th:text="${gameSessions.getUsers().size()} + '/' + ${gameSessions.playerLimit} + ' Players'"></span>
	<span th:if="${gameSessions.playerLimit} == ${gameSessions.getUsers().size()}">. This Game Session is full.</span>
	<br>
	Game Duration: <span th:text="${gameSessions.gameDuration}"></span>
	<br>
	Session Title: <span th:text="${gameSessions.gameSessionTitle}"></span>
	<br>
	Description: <span th:text="${gameSessions.gameSessionDescription}"></span>
	<br>
	Game Session Host:
	<a class="title card-title" th:href="@{/aboutuser/{id} (id = ${gameSessions.getGameSessionHost().getId()})}"><span
			class="card-text" th:text="${gameSessions.getGameSessionHost().getUsername()}"></span></a>
</h1>

<a th:href="@{/gamesessions/{id}/edit (id = ${gameSessions.id})}"
   th:if="${gameSessions.getGameSessionHost().getId()} == ${user.getId()}">
	<button id="editButton">Edit Game Session</button>
</a>

<a th:href="@{/gamesessions/{id}/editplayers (id = ${gameSessions.id})}"
   th:if="${gameSessions.getGameSessionHost().getId()} == ${user.getId()}">
	<button id="editPlayers">Edit Player Roster</button>
</a>

<a th:if="${gameSessions.getGameSessionHost().getId()} == ${user.getId()}">
	<button id="deleteButton" th:value="${gameSessions.getId()}">Delete Session</button>
</a>

<div th:if="${gameSessions.getGameSessionHost().getId()} != ${user.getId()} and ${playerFound} == 0 and ${gameSessions.playerLimit} > ${gameSessions.getUsers().size()}">
	<a th:href="@{'/gamesessions/join/' + ${user.getId()} + '/' + ${gameSessions.getId()}}">
		<button id="joinButton" type="submit">Join Game Session</button>
	</a>
</div>

<div th:if="${gameSessions.getGameSessionHost().getId()} != ${user.getId()} and ${playerFound} == 1">You are part of
	this session!
	<a th:href="@{/gamesessions/remove/{userId}/{id} (userId = ${user.getId()}, id = ${gameSessions.getId()})}">
		<button>Leave Game Session</button>
	</a>
</div>

<div th:insert="partials :: boot-scripts"></div>
<script th:src="@{/js/api_keys.js}"></script>
<script th:src="@{/js/bga.js}"></script>
</body>
</html>